E:\node-project\challenge-backend>t

E:\node-project\challenge-backend>npm run test:e2e

> challenge-backend@0.0.1 test:e2e
> jest --config ./test/jest-e2e.json

 PASS  test/users.e2e-spec.ts (8.538 s)  
 PASS  test/auth.e2e-spec.ts
 PASS  test/app.e2e-spec.ts
[Nest] 2844  - 02/07/2026, 10:23:24 PM   ERROR [ExceptionsHandler] PrismaClientKnownRequestError:        
Invalid `this.prisma.task.create()` invocation in
E:\node-project\challenge-backend\src\tasks\tasks.service.ts:15:29

  12 constructor(private prisma: PrismaService) {}
  13
  14 async create(userId: string, createTaskDto: CreateTaskDto) {
→ 15   return this.prisma.task.create(
Foreign key constraint violated on the foreign key
    at Vr.handleRequestError (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:228:13)
    at Vr.handleAndLogRequestError (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:174:12)
    at Vr.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:143:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at a (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:805:24)
    at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  code: 'P2003',
  meta: {
    modelName: 'Task',
    driverAdapterError: DriverAdapterError: ForeignKeyConstraintViolation
        at PrismaBetterSqlite3Adapter.onError (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:568:11)
        at PrismaBetterSqlite3Adapter.performIO (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:563:12)
        at PrismaBetterSqlite3Adapter.queryRaw (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:504:63)
        at E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:184:16
        at callback (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\tracing.ts:80:12)
        at e.withQuerySpanAndEvent (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:363:12)
        at e.#withQuerySpanAndEvent [as interpretNode] (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:182:37)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:209:52)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:127:21)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:268:41)
        at e.run (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:93:23)
        at execute (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\core\engines\client\LocalExecutor.ts:81:12)
        at Dt.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\core\engines\client\ClientEngine.ts:461:22)
        at Object.singleLoader (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:112:26)
        at Vr.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:140:14)
        at a (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:805:24)
        at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-execution-context.js:46:28
        at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-proxy.js:9:17 {     
      cause: {
        originalCode: 'SQLITE_CONSTRAINT_FOREIGNKEY',
        originalMessage: 'FOREIGN KEY constraint failed',
        kind: 'ForeignKeyConstraintViolation',
        constraint: {
          foreignKey: {}
        }
      }
    }
  },
  clientVersion: '7.3.0'
}
[Nest] 14228  - 02/07/2026, 10:23:26 PM   ERROR [ExceptionsHandler] PrismaClientKnownRequestError: 
Invalid `this.prisma.tag.update()` invocation in
E:\node-project\challenge-backend\src\tags\tags.service.ts:71:30

  68 }
  69
  70 try {
→ 71   return this.prisma.tag.update(
Unique constraint failed on the fields: (`userId`, `name`)
    at Vr.handleRequestError (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:228:13)
    at Vr.handleAndLogRequestError (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:174:12)
    at Vr.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:143:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at a (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:805:24)
    at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  code: 'P2002',
  meta: {
    modelName: 'Tag',
    driverAdapterError: DriverAdapterError: UniqueConstraintViolation
        at PrismaBetterSqlite3Adapter.onError (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:568:11)
        at PrismaBetterSqlite3Adapter.performIO (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:563:12)
        at PrismaBetterSqlite3Adapter.queryRaw (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:504:63)
        at E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:184:16
        at callback (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\tracing.ts:80:12)
        at e.withQuerySpanAndEvent (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:363:12)
        at e.#withQuerySpanAndEvent [as interpretNode] (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:182:37)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:209:52)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:124:40)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:268:52)
        at e.run (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:93:34)
        at execute (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\core\engines\client\LocalExecutor.ts:81:36)
        at Dt.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\core\engines\client\ClientEngine.ts:461:37)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.singleLoader (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:112:26)
        at Vr.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:140:14)
        at a (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:805:24)
        at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-execution-context.js:46:28
        at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-proxy.js:9:17 {     
      cause: {
        originalCode: 'SQLITE_CONSTRAINT_UNIQUE',
        originalMessage: 'UNIQUE constraint failed: Tag.userId, Tag.name',
        kind: 'UniqueConstraintViolation',
        constraint: {
          fields: [
            'userId',
            'name'
          ]
        }
      }
    }
  },
  clientVersion: '7.3.0'
}
[Nest] 2844  - 02/07/2026, 10:23:28 PM   ERROR [ExceptionsHandler] PrismaClientKnownRequestError: 
Invalid `this.prisma.task.create()` invocation in
E:\node-project\challenge-backend\src\tasks\tasks.service.ts:15:29

  12 constructor(private prisma: PrismaService) {}
  13
  14 async create(userId: string, createTaskDto: CreateTaskDto) {
→ 15   return this.prisma.task.create(
Foreign key constraint violated on the foreign key
    at Vr.handleRequestError (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:228:13)
    at Vr.handleAndLogRequestError (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:174:12)
    at Vr.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:143:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at a (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:805:24)
    at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  code: 'P2003',
  meta: {
    modelName: 'Task',
    driverAdapterError: DriverAdapterError: ForeignKeyConstraintViolation
        at PrismaBetterSqlite3Adapter.onError (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:568:11)
        at PrismaBetterSqlite3Adapter.performIO (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:563:12)
        at PrismaBetterSqlite3Adapter.queryRaw (E:\node-project\challenge-backend\node_modules\@prisma\adapter-better-sqlite3\dist\index.js:504:63)
        at E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:184:16
        at callback (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\tracing.ts:80:12)
        at e.withQuerySpanAndEvent (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:363:12)
        at e.#withQuerySpanAndEvent [as interpretNode] (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:182:37)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:209:52)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:127:21)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at e.interpretNode (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:268:41)
        at e.run (E:\node-project\challenge-backend\node_modules\@prisma\client-engine-runtime\src\interpreter\query-interpreter.ts:93:23)
        at execute (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\core\engines\client\LocalExecutor.ts:81:12)
        at Dt.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\core\engines\client\ClientEngine.ts:461:22)
        at Object.singleLoader (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:112:26)
        at Vr.request (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:140:14)
        at a (E:\node-project\challenge-backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:805:24)
        at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-execution-context.js:46:28
        at E:\node-project\challenge-backend\node_modules\@nestjs\core\router\router-proxy.js:9:17 {     
      cause: {
        originalCode: 'SQLITE_CONSTRAINT_FOREIGNKEY',
        originalMessage: 'FOREIGN KEY constraint failed',
        kind: 'ForeignKeyConstraintViolation',
        constraint: {
          foreignKey: {}
        }
      }
    }
  },
  clientVersion: '7.3.0'
}
 FAIL  test/tasks.e2e-spec.ts (17.245 s)   
  ● TasksModule (e2e) › POST /api/tasks › [Sukses] Pengguna A membuat tugas baru dengan data yang valid. 

    TypeError: Cannot read properties of null (reading 'id')

      65 |       where: { email: userBRegisterDto.email },
      66 |     });
    > 67 |     userBId = userB.id;
         |                     ^
      68 |   });
      69 |
      70 |   afterAll(async () => {

      at Object.<anonymous> (tasks.e2e-spec.ts:67:21)

  ● TasksModule (e2e) › POST /api/tasks › [Gagal] Membuat tugas dengan data yang tidak valid (misalnya, judul kosong).

    TypeError: Cannot read properties of null (reading 'id')

      65 |       where: { email: userBRegisterDto.email },
      66 |     });
    > 67 |     userBId = userB.id;
         |                     ^
      68 |   });
      69 |
      70 |   afterAll(async () => {

      at Object.<anonymous> (tasks.e2e-spec.ts:67:21)

  ● TasksModule (e2e) › POST /api/tasks › [Gagal] Membuat tugas tanpa token autentikasi.

    TypeError: Cannot read properties of null (reading 'id')

      53 |       where: { email: userARegisterDto.email },
      54 |     });
    > 55 |     userAId = userA.id;
         |                     ^
      56 |
      57 |     // Register and login User B
      58 |     await registerUser(app, userBRegisterDto);

      at Object.<anonymous> (tasks.e2e-spec.ts:55:21)

  ● TasksModule (e2e) › GET /api/tasks › [Sukses] Pengguna A mengambil daftar tugasnya.

    TypeError: Cannot read properties of null (reading 'id')

      53 |       where: { email: userARegisterDto.email },
      54 |     });
    > 55 |     userAId = userA.id;
         |                     ^
      56 |
      57 |     // Register and login User B
      58 |     await registerUser(app, userBRegisterDto);

      at Object.<anonymous> (tasks.e2e-spec.ts:55:21)

  ● TasksModule (e2e) › GET /api/tasks › [Sukses] Pengguna yang belum punya tugas mengambil daftar tugasnya.

    TypeError: Cannot read properties of null (reading 'id')

      53 |       where: { email: userARegisterDto.email },
      54 |     });
    > 55 |     userAId = userA.id;
         |                     ^
      56 |
      57 |     // Register and login User B
      58 |     await registerUser(app, userBRegisterDto);

      at Object.<anonymous> (tasks.e2e-spec.ts:55:21)

  ● TasksModule (e2e) › GET /api/tasks/:id › [Sukses] Pengguna A mengambil detail tugas miliknya.        

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      204 |         .set('Authorization', `Bearer ${userAToken}`);
      205 |
    > 206 |       expect(response.status).toBe(HttpStatus.OK);
          |                               ^
      207 |       expect(response.body).toBeDefined();
      208 |       expect(response.body.id).toBe(userATaskId);
      209 |       expect(response.body.title).toBe('User A Task');

      at Object.<anonymous> (tasks.e2e-spec.ts:206:31)

  ● TasksModule (e2e) › GET /api/tasks/:id › [Gagal] Pengguna A mengambil detail tugas yang tidak ada (ID salah).

    TypeError: Cannot read properties of null (reading 'id')

      65 |       where: { email: userBRegisterDto.email },
      66 |     });
    > 67 |     userBId = userB.id;
         |                     ^
      68 |   });
      69 |
      70 |   afterAll(async () => {

      at Object.<anonymous> (tasks.e2e-spec.ts:67:21)

  ● TasksModule (e2e) › PATCH /api/tasks/:id › [Gagal] Pengguna A memperbarui tugas yang tidak ada (ID salah).

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 401

      290 |         .send(updateTaskDto);
      291 |
    > 292 |       expect(response.status).toBe(HttpStatus.NOT_FOUND);
          |                               ^
      293 |       expect(response.body.message).toBe('Task not found');
      294 |     });
      295 |

      at Object.<anonymous> (tasks.e2e-spec.ts:292:31)

 FAIL  test/tags.e2e-spec.ts (21.35 s)       
  ● Console

    console.log
      log userA null

      at Object.<anonymous> (tags.e2e-spec.ts:59:15)

    console.log
      log registerAResponse.body { message: 'Email already exists', error: 'Conflict', statusCode: 409 } 

      at Object.<anonymous> (tags.e2e-spec.ts:60:15)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userB null

      at Object.<anonymous> (tags.e2e-spec.ts:78:15)

    console.log
      log registerBResponse.body 201 {
        id: 'b7eabc4b-a84f-44f3-aac4-3191291542fe',
        email: 'userB@example.com',
        name: 'User B',
        birth: '1995-05-05T00:00:00.000Z',
        createdAt: '2026-02-07T15:23:18.458Z',
        updatedAt: '2026-02-07T15:23:18.458Z'
      }

      at Object.<anonymous> (tags.e2e-spec.ts:79:15)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userB null

      at Object.<anonymous> (tags.e2e-spec.ts:78:15)

    console.log
      log registerBResponse.body 201 {
        id: '170b797f-e382-461b-bac9-fdcef1f8f517',
        email: 'userB@example.com',
        name: 'User B',
        birth: '1995-05-05T00:00:00.000Z',
        createdAt: '2026-02-07T15:23:19.256Z',
        updatedAt: '2026-02-07T15:23:19.256Z'
      }

      at Object.<anonymous> (tags.e2e-spec.ts:79:15)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userB null

      at Object.<anonymous> (tags.e2e-spec.ts:78:15)

    console.log
      log registerBResponse.body 201 {
        id: 'c89a0330-10ea-4c5e-b85e-d85145ef5b8a',
        email: 'userB@example.com',
        name: 'User B',
        birth: '1995-05-05T00:00:00.000Z',
        createdAt: '2026-02-07T15:23:21.367Z',
        updatedAt: '2026-02-07T15:23:21.367Z'
      }

      at Object.<anonymous> (tags.e2e-spec.ts:79:15)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

    console.log
      log userBRegisterDto.email userB@example.com

      at Object.<anonymous> (tags.e2e-spec.ts:70:13)

  ● TagsModule (e2e) › POST /api/tags › [Sukses] Pengguna A membuat tag baru dengan data yang valid.     

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 401

       97 |         .send(createTagDto);
       98 |
    >  99 |       expect(response.status).toBe(HttpStatus.CREATED);
          |                               ^
      100 |       expect(response.body).toBeDefined();
      101 |       expect(response.body.name).toBe(createTagDto.name);
      102 |       expect(response.body.userId).toBe(userAId);

      at Object.<anonymous> (tags.e2e-spec.ts:99:31)

  ● TagsModule (e2e) › POST /api/tags › [Gagal] Membuat tag dengan nama yang duplikat untuk pengguna yang sama.

    expect(received).toBe(expected) // Object.is equality

    Expected: 409
    Received: 401

      115 |         .send(createTagDto);
      116 |
    > 117 |       expect(response.status).toBe(HttpStatus.CONFLICT);
          |                               ^
      118 |       expect(response.body.message).toBe(
      119 |         'Tag with this name already exists for this user',
      120 |       );

      at Object.<anonymous> (tags.e2e-spec.ts:117:31)

  ● TagsModule (e2e) › PATCH /api/tags/:id › [Gagal] Pengguna B mencoba memperbarui tag milik Pengguna A.
    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 404

      245 |         .send(updateTagDto);
      246 |
    > 247 |       expect(response.status).toBe(HttpStatus.UNAUTHORIZED);
          |                               ^
      248 |     });
      249 |
      250 |     it('[Gagal] Memperbarui tag yang tidak ada.', async () => {

      at Object.<anonymous> (tags.e2e-spec.ts:247:31)

  ● TagsModule (e2e) › PATCH /api/tags/:id › [Gagal] Memperbarui dengan nama tag duplikat untuk pengguna 
yang sama.

    expect(received).toBe(expected) // Object.is equality

    Expected: 409
    Received: 500

      273 |         .send(updateTagDto);
      274 |
    > 275 |       expect(response.status).toBe(HttpStatus.CONFLICT);
          |                               ^
      276 |       expect(response.body.message).toBe(
      277 |         'Tag with this name already exists for this user',
      278 |       );

      at Object.<anonymous> (tags.e2e-spec.ts:275:31)

Test Suites: 2 failed, 3 passed, 5 total
Tests:       12 failed, 42 passed, 54 total
Snapshots:   0 total
Time:        23.241 s
Ran all test suites.